<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Garbage Management System</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"> <!-- Google Fonts for Roboto -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"> <!-- Font Awesome for icons -->
    
    <!-- Inline CSS for professional styling -->
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); /* Subtle gradient background */
            color: #333;
            line-height: 1.6;
        }

        .navbar {
            background: linear-gradient(90deg, #28a745 0%, #20c997 100%); /* Gradient green for eco-theme */
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .navbar:hover {
            background: linear-gradient(90deg, #218838 0%, #17a2b8 100%);
        }

        .navbar .nav-link {
            color: #fff !important;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 10px 15px;
        }

        .navbar .nav-link:hover {
            color: #e6e6e6 !important;
            transform: translateY(-2px);
        }

        .container {
            margin-top: 80px;
            padding: 20px;
            max-width: 1200px;
        }

        /* Hide all sections by default */
        .section {
            display: none;
            padding: 30px;
            border-radius: 12px;
            background-color: #fff;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease-in-out;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero section on home */
        #home .hero {
            background: linear-gradient(135deg, #007bff 0%, #6610f2 100%);
            color: #fff;
            padding: 80px 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        #home .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            opacity: 0.1;
        }

        #home .hero h1, #home .hero p, #home .hero .hero-buttons {
            position: relative;
            z-index: 1;
        }

        #home .hero p {
            color: #ffffff;
        }



        .btn-primary, .btn-success {
            background: linear-gradient(45deg, #28a745, #20c997);
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .btn-primary:hover, .btn-success:hover {
            background: linear-gradient(45deg, #218838, #17a2b8);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        form label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
        }

        form .form-control {
            border-radius: 8px;
            border: 2px solid #dee2e6;
            padding: 12px;
            transition: all 0.3s ease;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        form .form-control:focus {
            border-color: #28a745;
            box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }

        form .form-control.is-invalid {
            border-color: #dc3545;
            box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
        }

        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .alert {
            border-radius: 8px;
            border: none;
        }

        footer {
            background: linear-gradient(90deg, #28a745 0%, #20c997 100%);
            color: #fff;
            text-align: center;
            padding: 20px;
            margin-top: 50px;
        }

        /* Loading spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                margin-top: 60px;
                padding: 15px;
            }

            .hero {
                padding: 50px 15px;
            }

            .section {
                padding: 20px;
            }

            .navbar .nav-link {
                padding: 8px 12px;
            }

            .btn-primary, .btn-success, .btn-secondary {
                padding: 10px 20px;
                font-size: 14px;
            }
        }

        /* Accessibility improvements */
        .navbar-toggler {
            border: none;
            background: rgba(255, 255, 255, 0.1);
        }

        .navbar-toggler:focus {
            box-shadow: 0 0 0 0.2rem rgba(255, 255, 255, 0.5);
        }

        /* Typography improvements */
        h1 {
            font-weight: 700;
            color: #212529;
            margin-bottom: 20px;
        }

        h2 {
            font-weight: 600;
            color: #495057;
            margin-bottom: 15px;
        }

        p, li {
            color: #6c757d;
        }



        /* Schedule styles */
        .schedule-item {
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }

        .schedule-item h5 {
            margin-bottom: 5px;
            color: #28a745;
        }



        /* Testimonials section */
        .testimonial {
            background: #fff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            position: relative;
        }

        .testimonial::before {
            content: '"';
            font-size: 4rem;
            color: #28a745;
            position: absolute;
            top: -10px;
            left: 20px;
            font-family: 'Georgia', serif;
        }

        .testimonial-author {
            text-align: right;
            margin-top: 20px;
            font-style: italic;
            color: #6c757d;
        }

        /* Footer styles */
        footer {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: #fff;
            padding: 50px 0 20px;
            margin-top: 80px;
        }

        footer h5 {
            color: #fff;
            margin-bottom: 20px;
        }

        footer a {
            color: #e6e6e6;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #fff;
        }

        footer .social-links a {
            color: #fff;
            transition: all 0.3s ease;
        }

        footer .social-links a:hover {
            transform: translateY(-5px);
        }

        footer hr {
            border-color: rgba(255, 255, 255, 0.2);
            margin: 30px 0;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#" onclick="showSection('home')">
            <i class="fas fa-recycle"></i> Smart Garbage Management System
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="#" data-section="home"><i class="fas fa-home"></i> Home</a></li>
                <li class="nav-item"><a class="nav-link" href="#" data-section="about"><i class="fas fa-info-circle"></i> About</a></li>
                <li class="nav-item"><a class="nav-link" href="#" data-section="report"><i class="fas fa-exclamation-circle"></i> Report Garbage</a></li>
                <li class="nav-item"><a class="nav-link" href="#" data-section="schedule"><i class="fas fa-calendar-alt"></i> Schedules</a></li>
                <li class="nav-item"><a class="nav-link" href="#" data-section="contact"><i class="fas fa-envelope"></i> Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="#" data-section="login"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                <li class="nav-item"><a class="nav-link" href="#" data-section="admin"><i class="fas fa-user-shield"></i> Admin</a></li>
            </ul>
        </div>
    </nav>

    <!-- Home Section -->
    <div id="home" class="section active">
        <div class="container">
            <div class="hero">
                <h1><i class="fas fa-leaf"></i> Welcome to Smart Garbage Management System</h1>
                <p>Join us in keeping our community clean and sustainable. Report garbage issues, stay informed about collection schedules, and contribute to a greener environment.</p>
                <div class="hero-buttons">
                    <a href="#" class="btn btn-primary btn-lg mr-3" onclick="showSection('report')"><i class="fas fa-exclamation-triangle"></i> Report Garbage Now</a>
                    <a href="#" class="btn btn-secondary btn-lg" onclick="showSection('about')"><i class="fas fa-info-circle"></i> Learn More</a>
                </div>
            </div>

            <!-- Statistics Section -->
            <div class="row mt-5">
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stat-card text-center">
                        <i class="fas fa-users fa-3x text-success mb-3"></i>
                        <h3 class="counter" id="activeUsersCount" data-target="0">0</h3>
                        <p>Active Users</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stat-card text-center">
                        <i class="fas fa-trash-alt fa-3x text-warning mb-3"></i>
                        <h3 class="counter" id="reportsFiledCount" data-target="0">0</h3>
                        <p>Reports Filed</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stat-card text-center">
                        <i class="fas fa-recycle fa-3x text-info mb-3"></i>
                        <h3 class="counter" id="tonsRecycledCount" data-target="0">0</h3>
                        <p>Tons Recycled</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stat-card text-center">
                        <i class="fas fa-tree fa-3x text-success mb-3"></i>
                        <h3 class="counter" id="treesSavedCount" data-target="0">0</h3>
                        <p>Trees Saved</p>
                    </div>
                </div>
            </div>

            <!-- Photo Carousel -->
            <div id="photoCarousel" class="carousel slide mt-5" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=800&h=400&fit=crop" class="d-block w-100" alt="Clean environment">
                        <div class="carousel-caption d-none d-md-block">
                            <h5><i class="fas fa-globe-americas"></i> Keep Our Planet Clean</h5>
                            <p style="color: #dfd2d2; font-weight: bold;">Report and help clean up garbage in your community.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop" class="d-block w-100" alt="Recycling">
                        <div class="carousel-caption d-none d-md-block">
                            <h5><i class="fas fa-recycle"></i> Proper Waste Management</h5>
                            <p style="color: #dfd2d2; font-weight: bold;">Learn about recycling and waste disposal best practices.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800&h=400&fit=crop" class="d-block w-100" alt="Community action">
                        <div class="carousel-caption d-none d-md-block">
                            <h5><i class="fas fa-users"></i> Community Action</h5>
                            <p style="color: #dfd2d2; font-weight: bold;">Together we can make a difference in our environment.</p>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#photoCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#photoCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <!-- How It Works Section -->
            <div class="how-it-works mt-5">
                <h2 class="text-center mb-4"><i class="fas fa-cogs"></i> How It Works</h2>
                <div class="row">
                    <div class="col-md-4 text-center mb-4">
                        <div class="step-icon">
                            <i class="fas fa-search fa-3x text-primary mb-3"></i>
                            <h4>1. Report</h4>
                            <p>Spot garbage or waste issues and report them through our easy-to-use form.</p>
                        </div>
                    </div>
                    <div class="col-md-4 text-center mb-4">
                        <div class="step-icon">
                            <i class="fas fa-clock fa-3x text-warning mb-3"></i>
                            <h4>2. Track</h4>
                            <p>Monitor the status of your reports and stay updated on collection schedules.</p>
                        </div>
                    </div>
                    <div class="col-md-4 text-center mb-4">
                        <div class="step-icon">
                            <i class="fas fa-check-circle fa-3x text-success mb-3"></i>
                            <h4>3. Impact</h4>
                            <p>See the positive change in your community as we work together for a cleaner environment.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Section -->
    <div id="about" class="section">
        <div class="container">
            <h1>About Us</h1>
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h3><i class="fas fa-info-circle"></i> Our Mission</h3>
                            <p>We are dedicated to improving waste management in your community. Our system allows users to report issues, schedule pickups, and access educational resources to promote sustainable living.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h3><i class="fas fa-lightbulb"></i> Tips for Recycling</h3>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check text-success"></i> Separate recyclables like paper, plastic, and glass.</li>
                                <li><i class="fas fa-check text-success"></i> Avoid single-use plastics to reduce waste.</li>
                                <li><i class="fas fa-check text-success"></i> Compost organic waste for a greener planet.</li>
                                <li><i class="fas fa-check text-success"></i> Rinse containers before recycling.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <i class="fas fa-shield-alt fa-2x text-primary mb-2"></i>
                            <h5>Reliable Service</h5>
                            <p>24/7 monitoring and quick response to reports.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <i class="fas fa-heart fa-2x text-danger mb-2"></i>
                            <h5>Community Focused</h5>
                            <p>Building cleaner communities together.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <i class="fas fa-globe fa-2x text-success mb-2"></i>
                            <h5>Eco-Friendly</h5>
                            <p>Committed to environmental sustainability.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Garbage Section -->
    <div id="report" class="section">
        <div class="container">
            <h1>Report a Garbage Issue</h1>
            <div class="card">
                <div class="card-body">
                    <form id="reportForm">
                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" class="form-control" id="location" required>
                        </div>
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea class="form-control" id="description" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="photo">Upload Photo (optional)</label>
                            <input type="file" class="form-control" id="photo" accept="image/*">
                        </div>
                        <button type="submit" class="btn btn-success"><i class="fas fa-paper-plane"></i> Submit Report</button>
                    </form>
                    <div id="formMessage" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Schedules Section -->
    <div id="schedule" class="section">
        <div class="container">
            <h1>Garbage Collection Schedules</h1>
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h4><i class="fas fa-calendar-week"></i> Weekly Schedule</h4>
                        </div>
                        <div class="card-body">
                            <div class="schedule-item">
                                <h5><i class="fas fa-calendar-day"></i> Monday</h5>
                                <p>Residential pickup - 8:00 AM to 6:00 PM</p>
                            </div>
                            <div class="schedule-item">
                                <h5><i class="fas fa-calendar-day"></i> Wednesday</h5>
                                <p>Commercial pickup - 9:00 AM to 5:00 PM</p>
                            </div>
                        <div class="schedule-item">
                            <h5><i class="fas fa-calendar-day"></i> Friday</h5>
                            <p>Recycling day - 7:00 AM to 4:00 PM</p>
                        </div>
                        <div class="schedule-item">
                            <h5><i class="fas fa-calendar-day"></i> Sunday</h5>
                            <p>Special collection - 9:00 AM to 3:00 PM</p>
                        </div>
                    </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header bg-success text-white">
                            <h4><i class="fas fa-bell"></i> Special Collections</h4>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-info">
                                <h6><i class="fas fa-leaf"></i> Holiday Schedule</h6>
                                <p>Collection may be delayed by 1 day during holidays. Check notifications for updates.</p>
                            </div>
                            <div class="alert alert-warning">
                                <h6><i class="fas fa-exclamation-triangle"></i> Weather Delays</h6>
                                <p>Collections may be postponed due to severe weather conditions.</p>
                            </div>
                            <button class="btn btn-primary btn-block mt-3" onclick="showSection('report')">
                                <i class="fas fa-plus"></i> Report Schedule Issue
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Section -->
    <div id="login" class="section">
        <div class="container">
            <h1 id="loginTitle">Login or Register</h1>
            <div class="card">
                <div class="card-body">
                    <div id="loginContent">
                        <div id="loginFormContainer">
                            <h3>Login</h3>
                            <form id="loginForm">
                                <div class="form-group">
                                    <label for="username">Username</label>
                                    <input type="text" class="form-control" id="username" required>
                                </div>
                                <div class="form-group">
                                    <label for="password">Password</label>
                                    <input type="password" class="form-control" id="password" required>
                                </div>
                                <button type="submit" class="btn btn-primary"><i class="fas fa-sign-in-alt"></i> Login</button>
                            </form>
                            <p class="mt-3">Don't have an account? <a href="#" id="showRegister">Register here</a></p>
                        </div>
                        <div id="registerFormContainer" style="display: none;">
                            <h3>Register</h3>
                            <form id="registerForm">
                                <div class="form-group">
                                    <label for="regUsername">Username</label>
                                    <input type="text" class="form-control" id="regUsername" required>
                                </div>
                                <div class="form-group">
                                    <label for="regEmail">Email</label>
                                    <input type="email" class="form-control" id="regEmail" required>
                                </div>
                                <div class="form-group">
                                    <label for="regPassword">Password</label>
                                    <input type="password" class="form-control" id="regPassword" required minlength="6">
                                </div>
                                <div class="form-group">
                                    <label for="confirmPassword">Confirm Password</label>
                                    <input type="password" class="form-control" id="confirmPassword" required>
                                </div>
                                <button type="submit" class="btn btn-success"><i class="fas fa-user-plus"></i> Register</button>
                            </form>
                            <p class="mt-3">Already have an account? <a href="#" id="showLogin">Login here</a></p>
                        </div>
                        <div id="loginMessage" class="mt-3"></div>
                    </div>
                    <div id="userProfileContent" style="display: none;">
                        <h3 id="userProfileTitle"></h3>
                        <p id="userProfileEmail"></p>
                        <p><strong>Member since:</strong> <span id="userProfileDate"></span></p>
                        <button id="logoutBtn" class="btn btn-danger mt-3"><i class="fas fa-sign-out-alt"></i> Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Section -->
    <div id="contact" class="section">
        <div class="container">
            <h1>Contact Us</h1>
            <div class="card">
                <div class="card-body">
                    <p>Get in touch with us for any inquiries or support.</p>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="contactName">Name</label>
                            <input type="text" class="form-control" id="contactName" required>
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Email</label>
                            <input type="email" class="form-control" id="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="contactMessage">Message</label>
                            <textarea class="form-control" id="contactMessage" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Send Message</button>
                    </form>
                    <div id="contactMessage" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>



    <!-- Admin Section -->
    <div id="admin" class="section">
        <div class="container">
            <h1>Admin Dashboard</h1>
            <div class="card">
                <div class="card-body">
                    <h2>Submitted Reports</h2>
                    <div id="reportsList">
                        <!-- Reports will be displayed here -->
                    </div>
                    <h2 class="mt-4">User Management</h2>
                    <div id="usersList">
                        <!-- Users will be displayed here -->
                    </div>
                    <h2 class="mt-4">Contact Messages</h2>
                    <div id="contactsList">
                        <!-- Contact messages will be displayed here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5><i class="fas fa-recycle"></i> Smart Garbage Management System</h5>
                    <p>Committed to keeping our communities clean and sustainable through innovative waste management solutions.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" data-section="home"><i class="fas fa-home"></i> Home</a></li>
                        <li><a href="#" data-section="about"><i class="fas fa-info-circle"></i> About</a></li>
                        <li><a href="#" data-section="report"><i class="fas fa-exclamation-circle"></i> Report Issue</a></li>
                        <li><a href="#" data-section="contact"><i class="fas fa-envelope"></i> Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Connect With Us</h5>
                    <div class="social-links">
                        <a href="#" class="mr-3"><i class="fab fa-facebook-f fa-2x"></i></a>
                        <a href="#" class="mr-3"><i class="fab fa-twitter fa-2x"></i></a>
                        <a href="#" class="mr-3"><i class="fab fa-instagram fa-2x"></i></a>
                        <a href="#" class="mr-3"><i class="fab fa-linkedin-in fa-2x"></i></a>
                    </div>
                    <p class="mt-3">Follow us for the latest updates on environmental initiatives.</p>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2024 Smart Garbage Management System. All rights reserved. | <i class="fas fa-heart text-danger"></i> Made with love for our planet</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="data.js"></script>

    <script>
        function showSection(sectionId) {
            const currentUser = getCurrentUser();
            if (sectionId === 'admin' && (!currentUser || (currentUser.username !== ' Gitartha' && currentUser.username !== 'Ganeshog'))) {
                alert('Access denied. Admin access required.');
                return;
            }
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');

            // Special handling for login section
            if (sectionId === 'login') {
                const currentUser = getCurrentUser();
                if (currentUser) {
                    showUserProfile(currentUser);
                } else {
                    showLoginForm();
                }
            }
        }

        // Add event listeners to navigation links
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link[data-section], a[data-section]');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('data-section');
                    showSection(sectionId);
                });
            });

            // Add event listeners to show register/login links
            document.getElementById('showRegister')?.addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('loginFormContainer').style.display = 'none';
                document.getElementById('registerFormContainer').style.display = 'block';
            });

            document.getElementById('showLogin')?.addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('registerFormContainer').style.display = 'none';
                document.getElementById('loginFormContainer').style.display = 'block';
            });
        });



        // Form validation function
        function validateForm(form) {
            const inputs = form.querySelectorAll('input[required], textarea[required]');
            let isValid = true;
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    input.classList.add('is-invalid');
                    isValid = false;
                } else {
                    input.classList.remove('is-invalid');
                }
            });
            return isValid;
        }

        // Show loading spinner
        function showLoading(button) {
            button.disabled = true;
            button.innerHTML = '<span class="spinner"></span> Processing...';
        }

        // Hide loading spinner
        function hideLoading(button, originalText) {
            button.disabled = false;
            button.innerHTML = originalText;
        }

        document.getElementById('reportForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            if (!validateForm(this)) return;

            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            showLoading(submitBtn);

            const location = document.getElementById('location').value;
            const description = document.getElementById('description').value;
            const photo = document.getElementById('photo').files[0];

            if (photo) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const photoData = event.target.result;
                reports.push({ location, description, photo: photoData, photoName: photo.name, timestamp: new Date().toISOString() });
                saveReports();
                document.getElementById('formMessage').innerHTML = '<div class="alert alert-success"><i class="fas fa-check-circle"></i> Report submitted successfully!</div>';
                hideLoading(submitBtn, originalText);
                e.target.reset();
                updateReportsList();
                updateStatsOnChange();
                };
                reader.readAsDataURL(photo);
            } else {
                reports.push({ location, description, photo: null, timestamp: new Date().toISOString() });
                saveReports();
                document.getElementById('formMessage').innerHTML = '<div class="alert alert-success"><i class="fas fa-check-circle"></i> Report submitted successfully!</div>';
                hideLoading(submitBtn, originalText);
                e.target.reset();
                updateReportsList();
                updateStatsOnChange();
            }
        });

        document.getElementById('contactForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            if (!validateForm(this)) return;

            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            showLoading(submitBtn);

            setTimeout(() => {
                const name = document.getElementById('contactName').value;
                const email = document.getElementById('contactEmail').value;
                const message = document.getElementById('contactMessage').value;
                contacts.push({ name, email, message, timestamp: new Date().toISOString() });
                saveContacts();
                document.getElementById('contactMessage').innerHTML = '<div class="alert alert-success"><i class="fas fa-check-circle"></i> Message sent successfully!</div>';
                hideLoading(submitBtn, originalText);
                e.target.reset();
            }, 1000);
        });

        document.getElementById('loginForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            if (!validateForm(this)) return;

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const user = users.find(user => user.username === username && user.password === password);
            if (user) {
                // Set admin flag if username matches
                if (user.username === 'admin' || user.username === 'Ganesh' || user.username === 'Ganeshog') {
                    user.isAdmin = true;
                    // Update the user in the users array and save
                    users = users.map(u => u.username === user.username ? user : u);
                    saveUsers();
                }
                saveCurrentUser(user);
                document.getElementById('loginMessage').innerHTML = '<div class="alert alert-success"><i class="fas fa-check-circle"></i> Logged in successfully!</div>';
                // Update UI to show logged in state
                updateUserInterface(user);
                // Show profile content instead of login form
                showUserProfile(user);
            } else {
                document.getElementById('loginMessage').innerHTML = '<div class="alert alert-danger"><i class="fas fa-exclamation-triangle"></i> Invalid credentials</div>';
            }
        });



        document.getElementById('registerForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            if (!validateForm(this)) return;

            const username = document.getElementById('regUsername').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (password !== confirmPassword) {
                document.getElementById('loginMessage').innerHTML = '<div class="alert alert-danger"><i class="fas fa-exclamation-triangle"></i> Passwords do not match</div>';
                return;
            }

            if (users.some(user => user.username === username || user.email === email)) {
                document.getElementById('loginMessage').innerHTML = '<div class="alert alert-danger"><i class="fas fa-exclamation-triangle"></i> Username or email already exists</div>';
                return;
            }

            const newUser = {
                username,
                email,
                password,
                memberSince: new Date().toISOString()
            };
            users.push(newUser);
            saveUsers();
            document.getElementById('loginMessage').innerHTML = '<div class="alert alert-success"><i class="fas fa-check-circle"></i> Registered successfully! Please login.</div>';
            this.reset();
            document.getElementById('registerFormContainer').style.display = 'none';
            document.getElementById('loginFormContainer').style.display = 'block';
            updateStatsOnChange();
        });

        function updateReportsList() {
            const reportsList = document.getElementById('reportsList');
            if (reports.length === 0) {
                reportsList.innerHTML = '<p class="text-muted"><i class="fas fa-info-circle"></i> No reports submitted yet.</p>';
            } else {
                reportsList.innerHTML = reports.map((report, index) => `
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-map-marker-alt"></i> ${report.location}</h5>
                            <p class="card-text">${report.description}</p>
                            ${report.photo ? `<div class="mb-2"><a href="${report.photo}" download="${report.photoName || 'report-photo'}"><img src="${report.photo}" alt="${report.photoName || 'Report photo'}" class="img-fluid rounded" style="max-height: 200px; cursor: pointer;" title="Click to download image"></a></div>` : ''}
                            <p class="card-text"><small class="text-muted"><i class="fas fa-clock"></i> Submitted: ${new Date(report.timestamp).toLocaleString()}</small></p>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Initialize reports list on page load
        updateReportsList();

        // Update live statistics
        function updateLiveStats() {
            const activeUsersCount = document.getElementById('activeUsersCount');
            const reportsFiledCount = document.getElementById('reportsFiledCount');
            const tonsRecycledCount = document.getElementById('tonsRecycledCount');
            const treesSavedCount = document.getElementById('treesSavedCount');

            // Get current data from localStorage
            const currentUsers = JSON.parse(localStorage.getItem('users')) || [];
            const currentReports = JSON.parse(localStorage.getItem('reports')) || [];

            // Update counts
            activeUsersCount.textContent = currentUsers.length;
            reportsFiledCount.textContent = currentReports.length;

            // Calculate tons recycled (assuming 0.1 tons per report as an estimate)
            const tonsRecycled = (currentReports.length * 0.1).toFixed(1);
            tonsRecycledCount.textContent = tonsRecycled;

            // Calculate trees saved (assuming 1 tree saved per 10 reports)
            const treesSaved = Math.floor(currentReports.length / 10);
            treesSavedCount.textContent = treesSaved;
        }

        // Update stats on page load
        updateLiveStats();

        // Update stats when data changes
        function updateStatsOnChange() {
            updateLiveStats();
        }

        // Call updateStatsOnChange after any data modification
        // This will be called after form submissions and other data changes



        // Add input validation feedback
        document.querySelectorAll('input[required], textarea[required]').forEach(input => {
            input.addEventListener('blur', function() {
                if (!this.value.trim()) {
                    this.classList.add('is-invalid');
                } else {
                    this.classList.remove('is-invalid');
                }
            });
        });

        // Function to update UI based on logged in user
        function updateUserInterface(user) {
            const loginBtn = document.querySelector('a[href="#"][onclick*="login"]');
            if (user) {
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
                loginBtn.onclick = function() { showSection('login'); showUserProfile(user); };
            } else {
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
                loginBtn.onclick = function() { showSection('login'); showLoginForm(); };
            }
        }



        // Function to display admin data
        function displayAdminData() {
            // Display users
            const usersList = document.getElementById('usersList');
            if (users.length === 0) {
                usersList.innerHTML = '<p class="text-muted">No users registered yet.</p>';
            } else {
                usersList.innerHTML = users.map(user => `
                    <div class="card mb-2">
                        <div class="card-body">
                            <h5 class="card-title">${user.username}</h5>
                            <p class="card-text">Email: ${user.email}</p>
                        </div>
                    </div>
                `).join('');
            }

            // Display contacts
            const contactsList = document.getElementById('contactsList');
            if (contacts.length === 0) {
                contactsList.innerHTML = '<p class="text-muted">No contact messages yet.</p>';
            } else {
                contactsList.innerHTML = contacts.map(contact => `
                    <div class="card mb-2">
                        <div class="card-body">
                            <h5 class="card-title">${contact.name} (${contact.email})</h5>
                            <p class="card-text">${contact.message}</p>
                            <small class="text-muted">Sent: ${new Date(contact.timestamp).toLocaleString()}</small>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Logout functionality - now logout from login section
        document.getElementById('logoutBtn')?.addEventListener('click', function() {
            clearCurrentUser();
            updateUserInterface(null);
            showLoginForm();
            showSection('home');
            alert('Logged out successfully!');
        });

        // Function to show user profile in login section
        function showUserProfile(user) {
            document.getElementById('loginTitle').textContent = `${user.username}'s Profile`;
            document.getElementById('loginContent').style.display = 'none';
            document.getElementById('userProfileContent').style.display = 'block';
            document.getElementById('userProfileTitle').innerHTML = `<i class="fas fa-user-circle"></i> ${user.username}`;
            document.getElementById('userProfileEmail').innerHTML = `<strong>Email:</strong> ${user.email}`;
            document.getElementById('userProfileDate').textContent = new Date().toLocaleDateString();
        }

        // Function to show login form
        function showLoginForm() {
            document.getElementById('loginTitle').textContent = 'Login or Register';
            document.getElementById('loginContent').style.display = 'block';
            document.getElementById('userProfileContent').style.display = 'none';
        }

        // Check for existing user session on page load
        const currentUser = getCurrentUser();
        if (currentUser) {
            // Update admin flag for existing sessions
            if (currentUser.username === 'admin' || currentUser.username === 'Ganesh' || currentUser.username === 'Ganeshog') {
                currentUser.isAdmin = true;
                saveCurrentUser(currentUser);
            }
            updateUserInterface(currentUser);
            if (document.getElementById('login').classList.contains('active')) {
                showUserProfile(currentUser);
            }
        }

        // Display admin data if on admin page
        if (document.getElementById('admin').classList.contains('active')) {
            displayAdminData();
        }
    </script>
</body>
</html>